(function(b){b.fn.superfish=function(k){var j=b.fn.superfish,i=j.c,h=b(['<span class="',i.arrowClass,'"> &#187;</span>'].join("")),e=function(){var c=b(this),l=f(c);clearTimeout(l.sfTimer);c.showSuperfishUl().siblings().hideSuperfishUl()},g=function(){var l=b(this),m=f(l),c=j.op;clearTimeout(m.sfTimer);m.sfTimer=setTimeout(function(){c.retainPath=(b.inArray(l[0],c.$path)>-1);l.hideSuperfishUl();if(c.$path.length&&l.parents(["li.",c.hoverClass].join("")).length<1){e.call(c.$path)}},c.delay)},f=function(l){var c=l.parents(["ul.",i.menuClass,":first"].join(""))[0];j.op=j.o[c.serial];return c},d=function(c){c.addClass(i.anchorClass).append(h.clone())};return this.each(function(){var c=this.serial=j.o.length;var l=b.extend({},j.defaults,k);l.$path=b("li."+l.pathClass,this).slice(0,l.pathLevels).each(function(){b(this).addClass([l.hoverClass,i.bcClass].join(" ")).filter("li:has(ul)").removeClass(l.pathClass)});j.o[c]=j.op=l;b("li:has(ul)",this)[(b.fn.hoverIntent&&!l.disableHI)?"hoverIntent":"hover"](e,g).each(function(){if(l.autoArrows){d(b(">a:first-child",this))}}).not("."+i.bcClass).hideSuperfishUl();var m=b("a",this);m.each(function(o){var n=m.eq(o).parents("li");m.eq(o).focus(function(){e.call(n)}).blur(function(){g.call(n)})});l.onInit.call(this)}).each(function(){var c=[i.menuClass];if(j.op.dropShadows&&!(b.browser.msie&&b.browser.version<7)){c.push(i.shadowClass)}b(this).addClass(c.join(" "))})};var a=b.fn.superfish;a.o=[];a.op={};a.IE7fix=function(){var c=a.op;if(b.browser.msie&&b.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined){this.toggleClass(a.c.shadowClass+"-off")}};a.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};a.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};b.fn.extend({hideSuperfishUl:function(){var e=a.op,d=(e.retainPath===true)?e.$path:"";e.retainPath=false;var c=b(["li.",e.hoverClass].join(""),this).add(this).not(d).removeClass(e.hoverClass).find(">ul").hide().css("visibility","hidden");e.onHide.call(c);return this},showSuperfishUl:function(){var d=a.op,e=a.c.shadowClass+"-off",c=this.addClass(d.hoverClass).find(">ul:hidden").css("visibility","visible");a.IE7fix.call(c);d.onBeforeShow.call(c);c.animate(d.animation,d.speed,function(){a.IE7fix.call(c);d.onShow.call(c)});return this}})})(jQuery);