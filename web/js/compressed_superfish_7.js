(function(b){b.fn.superfish=function(f){var i=b.fn.superfish,k=i.c,e=b(['<span class="',k.arrowClass,'"> &#187;</span>'].join("")),h=function(){var l=b(this),c=g(l);clearTimeout(c.sfTimer);l.showSuperfishUl().siblings().hideSuperfishUl()},j=function(){var l=b(this),c=g(l),m=i.op;clearTimeout(c.sfTimer);c.sfTimer=setTimeout(function(){m.retainPath=(b.inArray(l[0],m.$path)>-1);l.hideSuperfishUl();if(m.$path.length&&l.parents(["li.",m.hoverClass].join("")).length<1){h.call(m.$path)}},m.delay)},g=function(l){var c=l.parents(["ul.",k.menuClass,":first"].join(""))[0];i.op=i.o[c.serial];return c},d=function(c){c.addClass(k.anchorClass).append(e.clone())};return this.each(function(){var l=this.serial=i.o.length;var m=b.extend({},i.defaults,f);m.$path=b("li."+m.pathClass,this).slice(0,m.pathLevels).each(function(){b(this).addClass([m.hoverClass,k.bcClass].join(" ")).filter("li:has(ul)").removeClass(m.pathClass)});i.o[l]=i.op=m;b("li:has(ul)",this)[(b.fn.hoverIntent&&!m.disableHI)?"hoverIntent":"hover"](h,j).each(function(){if(m.autoArrows){d(b(">a:first-child",this))}}).not("."+k.bcClass).hideSuperfishUl();var c=b("a",this);c.each(function(o){var n=c.eq(o).parents("li");c.eq(o).focus(function(){h.call(n)}).blur(function(){j.call(n)})});m.onInit.call(this)}).each(function(){var c=[k.menuClass];if(i.op.dropShadows&&!(b.browser.msie&&b.browser.version<7)){c.push(k.shadowClass)}b(this).addClass(c.join(" "))})};var a=b.fn.superfish;a.o=[];a.op={};a.IE7fix=function(){var c=a.op;if(b.browser.msie&&b.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined){this.toggleClass(a.c.shadowClass+"-off")}};a.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};a.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};b.fn.extend({hideSuperfishUl:function(){var e=a.op,c=(e.retainPath===true)?e.$path:"";e.retainPath=false;var d=b(["li.",e.hoverClass].join(""),this).add(this).not(c).removeClass(e.hoverClass).find(">ul").hide().css("visibility","hidden");e.onHide.call(d);return this},showSuperfishUl:function(){var e=a.op,d=a.c.shadowClass+"-off",c=this.addClass(e.hoverClass).find(">ul:hidden").css("visibility","visible");a.IE7fix.call(c);e.onBeforeShow.call(c);c.animate(e.animation,e.speed,function(){a.IE7fix.call(c);e.onShow.call(c)});return this}})})(jQuery);