{% import _self as helpers %}

{% if loop.index == flow.getCurrentStep() %}
    {% set statusIconColour = 'icon-white' %}
    {% set buttonColour = ' button-turquoise' %}
    {% set iconColour = 'turquoise' %}
{% else %}
    {% set statusIconColour = 'icon-red' %}
    {% set buttonColour = 'button-white' %}
    {% set iconColour = 'grey' %}
{% endif %}

{% macro getRowColour(route) %}{% spaceless %}
        {% if app.request.get('_route') == route %}
            turquoise
        {% else %}
            grey
        {% endif %}
{% endspaceless %}{% endmacro %}

{% macro getButtonClass(route) %}{% spaceless %}
        {% if app.request.get('_route') == route %}
            button-turquoise
        {% endif %}
{% endspaceless %}{% endmacro %}

<div class="ui-widget mbl">
    <header class="ui-widget-header ui-corner-top">
    </header>
    <section class="ui-widget-content ui-corner-bottom">
        <nav class="left-menu">
            <ul class="clearfix">
                <li class="clearfix {{ helpers.getRowColour('products_edit_overview') }}">
                    <span class="nav-icon ui-button-icon-primary ui-icon icon-{{ helpers.getRowColour('products_edit_overview') }} icon-276"></span>
                    <a data-icon-secondary="icon-471" class="fl ui-button button {{ helpers.getButtonClass('products_edit_overview') }} icon-{{ helpers.getRowColour('products_edit_overview') }}" href="{{ path('products_edit_overview', {'productId': product.id}) }}">
                        Product Information
                    </a>
                </li>
                <li class="clearfix {{ helpers.getRowColour('products_edit_variants') }}">
                    <span class="nav-icon ui-button-icon-primary ui-icon icon-{{ helpers.getRowColour('products_edit_variants') }} icon-398"></span>
                    <a data-icon-secondary="icon-471" class="fl ui-button button icon-{{ helpers.getRowColour('products_edit_variants') }}" href="{{ path('products_edit_variants', {'productId': product.id}) }}">
                        Product Combinations
                    </a>
                </li>
                <li class="clearfix {{ helpers.getRowColour('products_edit_overview') }}">
                    <span class="nav-icon ui-button-icon-primary ui-icon icon-{{ helpers.getRowColour('products_edit_overview') }} icon-1305"></span>
                    <a data-icon-secondary="icon-471" class="fl ui-button button {{ helpers.getButtonClass('products_edit_overview') }} icon-{{ helpers.getRowColour('products_edit_overview') }}" href="{{ path('products_edit_overview', {'productId': product.id}) }}">
                        Images
                    </a>
                </li>
                <li class="clearfix {{ helpers.getRowColour('products_edit_overview') }}">
                    <span class="nav-icon ui-button-icon-primary ui-icon icon-{{ helpers.getRowColour('products_edit_overview') }} icon-276"></span>
                    <a data-icon-secondary="icon-471" class="fl ui-button button {{ helpers.getButtonClass('products_edit_overview') }} icon-{{ helpers.getRowColour('products_edit_overview') }}" href="{{ path('products_edit_overview', {'productId': product.id}) }}">
                        Links
                    </a>
                </li>
            </ul>
        </nav>
    </section>
</div>