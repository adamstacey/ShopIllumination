<script type="text/javascript" defer="defer">
	
	{% include 'WebIlluminationAdminBundle:'~data.settings.multipleModel~':indexFunctions.js.twig' with {'data': data} %}	
	
	$(document).ready(function() {
		
		{# Update the colours of the status #}
		$(".listing-status").live('change', function() {
			var $itemId = $(this).attr("data-id");
			var $status = $(this).val();
			var $statusColour = '';
			switch ($status)
			{
				case 'a':
					$statusColour = 'green';
					break;
				case 'h':
					$statusColour = 'yellow';
					break;
				case 'd':
					$statusColour = 'red';
					break;
			}
			$(this).parent().parent().removeClass("green yellow red").addClass($statusColour);
			$("#listing-select-"+$itemId).attr("checked", "checked");
			$("#uniform-listing-select-"+$itemId+" span").addClass("checked");
			$("tr#item-"+$itemId).addClass("selected");
		});
		
		{# Update the contacts #}
		$(".listing-owner-contact-id, .listing-assigned-to-contact-id").live('change', function() {
			var $itemId = $(this).attr("data-id");
			$("#listing-select-"+$itemId).attr("checked", "checked");
			$("#uniform-listing-select-"+$itemId+" span").addClass("checked");
			$("tr#item-"+$itemId).addClass("selected");
		});
		
		{# Update the colours of the delivery band #}
		$(".delivery-band").live('change', function() {
			if ($(this).val() < 1)
			{
				$(this).parent().parent().removeClass("red").addClass("red");
			} else {
				$(this).parent().parent().removeClass("red");
			}
			
		});
	});
</script>