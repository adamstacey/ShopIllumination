<div class="ui-widget info-message">
	<div class="ui-state-highlight ui-corner-all">
		<span class="info-message-icon ui-icon ui-icon-info"></span>
		<p>Please update the options available below.</p>
	</div>
</div>
<div id="option-success-message" class="ui-widget message closeable ui-helper-hidden">
    <div class="ui-state-success ui-corner-all">
    	<span class="ui-icon ui-icon-circle-check"></span>
        <p><strong>SUCCESS:</strong> <span id="option-success-message-text"></span></p>
    </div>
</div>
<div id="option-error-message" class="ui-widget message closeable ui-helper-hidden">
    <div class="ui-state-error ui-corner-all">
    	<span class="ui-icon ui-icon-alert"></span>
        <p><strong>ERROR:</strong> <span id="option-error-message-text"></span></p>
    </div>
</div>
<div id="option-confirm-leave" class="ui-widget message ui-helper-hidden">
    <div class="ui-state-error ui-corner-all">
    	<span class="ui-icon ui-icon-help"></span>
        <p><strong>WARNING:</strong> You are about to leave this section and you have made changes without updating. Do you want to update before you leave?</p>
        <p>
        	<button class="button action-save-options-and-leave ui-button-green" data-icon-primary="ui-icon-check">Save</button>
        	<button data-tab-index="" id="option-leave-options-button" class="button ui-button-red action-leave-options" data-icon-primary="ui-icon-closethick">Continue Without Updating</button>
        </p>
    </div>
</div>
<div id="option-confirm-delete" class="ui-widget message ui-helper-hidden">
    <div class="ui-state-error ui-corner-all"> 
        <span class="ui-icon ui-icon-help"></span>
        <p><strong>WARNING:</strong> Are you sure you want to delete the highlighted option?</p>
        <p>
        	<button data-index="" id="option-confirm-delete-button" class="button ui-button-red action-delete-option" data-icon-primary="ui-icon-closethick">Confirm Delete</button>
        	<button data-index="" id="option-cancel-delete-button" class="button ui-button-blue action-cancel-delete-option">Cancel</button>
        </p>
    </div>
</div>
<div id="option-confirm-deletes" class="ui-widget message ui-helper-hidden">
    <div class="ui-state-error ui-corner-all">
    	<span class="ui-icon ui-icon-help"></span>
        <p><strong>WARNING:</strong> Are you sure you want to delete the selected options?</p>
        <p>
        	<button data-option-group-id="" id="option-confirm-deletes-button" class="button ui-button-red action-delete-options" data-icon-primary="ui-icon-closethick">Confirm Delete</button>
        	<button id="option-cancel-deletes-button" class="button ui-button-blue action-cancel-delete-options">Cancel</button>
        </p>
    </div>
</div>
<div id="option-group-confirm-delete" class="ui-widget message ui-helper-hidden">
    <div class="ui-state-error ui-corner-all"> 
        <span class="ui-icon ui-icon-help"></span>
        <p><strong>WARNING:</strong> Are you sure you want to delete the highlighted option group?</p>
        <p>
        	<button data-index="" id="option-group-confirm-delete-button" class="button ui-button-red action-delete-option-group" data-icon-primary="ui-icon-closethick">Confirm Delete</button>
        	<button data-index="" id="option-group-cancel-delete-button" class="button ui-button-blue action-cancel-delete-option-group">Cancel</button>
        </p>
    </div>
</div>
<div id="option-group-confirm-deletes" class="ui-widget message ui-helper-hidden">
    <div class="ui-state-error ui-corner-all">
    	<span class="ui-icon ui-icon-help"></span>
        <p><strong>WARNING:</strong> Are you sure you want to delete the selected option groups?</p>
        <p>
        	<button id="option-group-confirm-deletes-button" class="button ui-button-red action-delete-option-groups" data-icon-primary="ui-icon-closethick">Confirm Delete</button>
        	<button id="option-group-cancel-deletes-button" class="button ui-button-blue action-cancel-delete-option-groups">Cancel</button>
        </p>
    </div>
</div>
<div class="clearfix">
    <div class="form-input-long">
		<div class="options-container">
			<input type="hidden" id="option-group-count" value="{% if options|length > 1 %}{{ options|length }}{% else %}1{% endif %}" />
			{% if options|length > 0 %}
				<ul class="list-fields" id="product-option-groups-container">
					{% for productOptionGroup, productOptions in options %}	
						<li class="product-option-group-container" data-index="{{ loop.index }}" id="option-group-{{ loop.index }}">
							<table width="100%">
								<tbody>
									<tr>
										<td width="9">
											<img class="draggable" width="9" height="17" src="{{ asset('bundles/webilluminationadmin/images/icons/draggable.png') }}" border="0" alt="Drag to re-order" />
										</td>
										<td width="1" class="select delete">
											<input type="hidden" class="option-group-id" id="form-option-group-id-{{ loop.index }}" value="{{ productOptions.0.productOptionGroupId }}" />
											<input data-index="{{ loop.index }}" type="checkbox" class="option-group-select" id="form-option-group-select-{{ loop.index }}" value="1" />
										</td>
										<td class="al">
											<h3 class="no-margin no-padding no-border">{{ productOptionGroup }}</h3>
										</td>
										<td width="160">
											<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" data-index="{{ loop.index }}" class="button ui-button-red action-confirm-delete-option-group" data-icon-primary="ui-icon-closethick">Delete Option Group</button>
										</td>
										<td width="85" class="ar no-padding-right">
											<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" id="show-hide-options-button-{{ productOptions.0.productOptionGroupId }}" class="button ui-button-blue action-show-hide-options" data-icon-primary="ui-icon-triangle-1-s">Options</button>
										</td>
										<td width="5" class="no-padding">&nbsp;</td>
									</tr>
									<tr style="width: 100%;" id="product-options-{{ productOptions.0.productOptionGroupId }}" class="ui-helper-hidden">
										<td colspan="2">&nbsp;</td>
										<td colspan="4" class="al no-padding-top no-padding-bottom">
											<div id="option-confirm-delete-{{ productOptions.0.productOptionGroupId }}" class="ui-widget message ui-helper-hidden">
											    <div class="ui-state-error ui-corner-all"> 
											        <span class="ui-icon ui-icon-help"></span>
											        <p><strong>WARNING:</strong> Are you sure you want to delete the highlighted option?</p>
											        <p>
											        	<button data-index="" id="option-confirm-delete-button-{{ productOptions.0.productOptionGroupId }}" class="button ui-button-red action-delete-option" data-icon-primary="ui-icon-closethick">Confirm Delete</button>
											        	<button data-index="" id="option-cancel-delete-button-{{ productOptions.0.productOptionGroupId }}" class="button ui-button-blue action-cancel-delete-option">Cancel</button>
											        </p>
											    </div>
											</div>
											<input type="hidden" id="option-count-{{ productOptions.0.productOptionGroupId }}" value="{% if productOptions|length > 1 %}{{ productOptions|length }}{% else %}1{% endif %}" />
											<ul class="list-fields product-options-container" id="product-options-container-{{ productOptions.0.productOptionGroupId }}">
												{% for productOption in productOptions %}
													<li class="product-option-container" data-index="{{ productOption.productOptionGroupId }}-{{ loop.index }}" id="option-{{ productOption.productOptionGroupId }}-{{ loop.index }}">
														<table width="100%">
															<tbody>
																<tr>
																	<td width="9">
																		<img class="draggable" width="9" height="17" src="{{ asset('bundles/webilluminationadmin/images/icons/draggable.png') }}" border="0" alt="Drag to re-order" />
																	</td>
																	<td width="1" class="select delete">
																		<input data-option-group-id="{{ productOption.productOptionGroupId }}" data-index="{{ productOption.productOptionGroupId }}-{{ loop.index }}" type="checkbox" class="option-select option-select-{{ productOption.productOptionGroupId }}" id="form-option-select-{{ productOption.productOptionGroupId }}-{{ loop.index }}" value="1" />
																	</td>
																	<td width="140" class="al no-padding-left no-padding-top no-padding-bottom">
																		<select id="form-option-product-option-id-{{ productOption.productOptionGroupId }}-{{ loop.index }}" class="full option-product-option-id">
																			<option value="">- Please Select -</option>
																			{% for productOptionObject in productOptionObjects %}
																				{% if productOptionObject.productOptionGroupId == productOption.productOptionGroupId %}
																					<option{% if productOptionObject.id == productOption.productOptionId %} selected="selected"{% endif %} value="{{ productOptionObject.id }}">{{ productOptionObject.productOption }}</option>
																				{% endif %}
																			{% endfor %}
																		</select>
																	</td>
																	<td class="ac no-padding-top no-padding-bottom">
																		<input type="text" class="ac option-price" id="form-option-price-{{ productOption.productOptionGroupId }}-{{ loop.index }}" value="{{ productOption.price|number_format(2) }}" />
																	</td>
																	<td width="130" class="ac no-padding-top no-padding-bottom" width="100">
																		<select id="form-option-price-type-{{ productOption.productOptionGroupId }}-{{ loop.index }}" class="full option-price-type">
																			<option{% if productOption.priceType == 'a' %} selected="selected"{% endif %} value="a">Fixed (&pound;)</option>
																			<option{% if productOption.priceType == 'p' %} selected="selected"{% endif %} value="p">Percentage (%)</option>
																			<option{% if productOption.priceType == 'r' %} selected="selected"{% endif %} value="r">Replace</option>
																		</select>
																	</td>
																	<td width="110" class="ac no-padding-top no-padding-bottom" width="100">
																		<select id="form-option-price-use-{{ productOption.productOptionGroupId }}-{{ loop.index }}" class="full option-price-use">
																			<option{% if productOption.priceUse == 'i' %} selected="selected"{% endif %} value="i">Increase (+)</option>
																			<option{% if productOption.priceUse == 'd' %} selected="selected"{% endif %} value="d">Decrease (-)</option>
																		</select>
																	</td>
																	<td width="1">
																		<input type="hidden" class="option-id" id="form-option-id-{{ productOption.productOptionGroupId }}-{{ loop.index }}" value="{{ productOption.id }}" />
																		<input type="hidden" class="option-product-option-group-id" id="form-option-product-option-group-id-{{ productOption.productOptionGroupId }}-{{ loop.index }}" value="{{ productOption.productOptionGroupId }}" />
																		<input type="hidden" class="option-display-order" id="form-option-display-order-{{ productOption.productOptionGroupId }}-{{ loop.index }}" value="" />
																		<input type="hidden" data-index="{{ productOption.productOptionGroupId }}-{{ loop.index }}" class="option-requires-update" id="form-option-requires-update-{{ productOption.productOptionGroupId }}-{{ loop.index }}" value="0" />
																		<button data-option-group-id="{{ productOption.productOptionGroupId }}" data-index="{{ productOption.productOptionGroupId }}-{{ loop.index }}" class="button ui-button-red action-confirm-delete-option" data-icon-only="true" data-icon-primary="ui-icon-closethick">Delete</button>
																	</td>
																</tr>
															</tbody>
														</table>
													</li>
												{% endfor %}
											</ul>
											<div class="clearfix">
											    <div class="form-input-long buttons margin-bottom-5">
											    	<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" class="button ui-button-green action-update-options" data-icon-primary="ui-icon-check">Update</button>
											    	<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" class="button ui-button-red action-confirm-delete-options ui-helper-hidden" data-icon-primary="ui-icon-closethick">Delete</button>
											    	<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" class="button ui-button-blue action-add-option" data-icon-primary="ui-icon-plusthick">Add</button>
											    	<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" class="button ui-button-blue action-select-all-options" data-icon-primary="ui-icon-radio-on">Select All</button>
											    	<button data-option-group-id="{{ productOptions.0.productOptionGroupId }}" class="button ui-button-blue action-unselect-all-options ui-helper-hidden" data-icon-primary="ui-icon-bullet">Unselect All</button>
											    </div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
				        </li>
					{% endfor %}
				</ul>
			{% else %}
				<p class="no-margin">There are currently no options setup for this product. Please add an option group below.</p>
			{% endif %}
			<div class="spacer"></div>
			<h3>Add New Option Group</h3>
			<table width="100%">
				<tbody>
					<tr>
						<td class="al no-padding-left no-padding-top no-padding-bottom">
							{% if productOptionGroupObjects|length > 0 %}
								<select id="form-option-product-option-group-id" class="full option-product-option-group-id">
									<option value="">- Please Select -</option>
									{% for productOptionGroupObject in productOptionGroupObjects %}
										<option value="{{ productOptionGroupObject.id }}">{{ productOptionGroupObject.productOptionGroup }}</option>
									{% endfor %}
								</select>
							{% else %}
								No option groups found.
							{% endif %}
						</td>
						<td width="10">&nbsp;</td>
						<td width="146">
							<button class="button ui-button-blue action-add-option-group" data-icon-primary="ui-icon-plusthick">Add Option Group</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<div id="option-group-buttons" class="clearfix ui-helper-hidden">
    <div class="form-input-long buttons no-margin-bottom">
    	<button class="button ui-button-red action-confirm-delete-option-groups ui-helper-hidden" data-icon-primary="ui-icon-closethick">Delete Selected Option Groups</button>
    	<button class="button ui-button-blue action-select-all-option-groups" data-icon-primary="ui-icon-radio-on">Select All</button>
    	<button class="button ui-button-blue action-unselect-all-option-groups ui-helper-hidden" data-icon-primary="ui-icon-bullet">Unselect All</button>
    	<input type="hidden" value="-1" id="options-tab-to-redirect-to" />
    </div>
</div>