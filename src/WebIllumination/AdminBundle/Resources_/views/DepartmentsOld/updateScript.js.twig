<script type="text/javascript" defer="defer">
	{# Check if data has been loaded #}
	var $imagesLoaded = false;
	var $filesLoaded = false;
	var $redirectsLoaded = false;
	
	{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateFunctions.js.twig' with {'settings': settings, 'data': data} %}
	{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateDescriptionFunctions.js.twig' with {'settings': settings, 'data': data} %}
	{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateImagesFunctions.js.twig' with {'settings': settings, 'data': data} %}
	{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateFilesFunctions.js.twig' with {'settings': settings, 'data': data} %}
	{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateRedirectsFunctions.js.twig' with {'settings': settings, 'data': data} %}
	{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateSeoFunctions.js.twig' with {'settings': settings, 'data': data} %}
	
	$(document).ready(function() {
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateGeneralScript.js.twig' with {'settings': settings, 'data': data} %}
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateDescriptionScript.js.twig' with {'settings': settings, 'data': data} %}
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateImagesScript.js.twig' with {'settings': settings, 'data': data} %}
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updatePricesScript.js.twig' with {'settings': settings, 'data': data} %}
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateFilesScript.js.twig' with {'settings': settings, 'data': data} %}
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateRedirectsScript.js.twig' with {'settings': settings, 'data': data} %}
		{% include 'WebIlluminationAdminBundle:'~settings.multipleItemsModel~':updateSeoScript.js.twig' with {'settings': settings, 'data': data} %}
		
		{# Setup the minimum height of the side bar #}
		$(".sidebar-tabs").each(function() {
			var $minimumSideBarHeight = 3;
			$(this).find("li").each(function() {
				$minimumSideBarHeight = $minimumSideBarHeight + $(this).outerHeight(true);
			});
			$(".sidebar-tabs").css("min-height", $minimumSideBarHeight);
		});
		
		{# Update the tabs status #}
		$(".sidebar-tabs input, .sidebar-tabs select, .sidebar-tabs textarea").live('change', function() {
			updateStatus();
		});
		$(".sidebar-tabs").bind("tabsselect", function(event, ui) {
			updateStatus();
			return true;
		});
		
		{# Confirm delete #}        
        $(".action-confirm-delete").live('click', function() {
	    	$("#confirm-delete").fadeIn();
	    	$("html, body").animate({scrollTop: $("#confirm-delete").offset().top - 50},'slow');
        });
        
        {# Cancel multiple delete #} 
        $(".action-cancel-delete").live('click', function() {
        	$("#confirm-delete").fadeOut();
        });
	});	
</script>